<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ic.userManagement.dao">
    <!-- 配置 查询结果的列名和实体类的属性名的对应关系 -->
    <resultMap id="accountMap" type="com.IceCoLa.pojo.Account">
        <!-- 主键字段的对应 -->
        <id property="id" column="id"/>
        <!--非主键字段的对应-->
        <result property="ammeterId" column="ammeter_id"/>
        <result property="identityCard" column="identity_card"/>
        <result property="password" column="password"/>
        <result property="address" column="address"/>
        <result property="phoneNum" column="phone_num"/>
        <result property="name" column="name"/>
        <result property="hash" column="hash"/>
        <result property="type" column="type"/>
        <result property="asset" column="asset"/>
        <result property="responseFlag" column="response_flag"/>
        <result property="consumedEnergy" column="consumed_energy"/>
        <result property="storageEnergy" column="storage_energy"/>
        <result property="image" column="image"/>
        <result property="email" column="email"/>
        <result property="QRCode" column="qr_code"/>
    </resultMap>

    <select id="selectAllAccounts" resultMap="accountMap">
        select * from account
    </select>

    <select id="selectAccountById" parameterType="int" resultMap="accountMap">
        select * from account where id = #{id}
    </select>

    <select id="selectAccountByHash" parameterType="String" resultMap="accountMap">
        select * from account where hash = #{hash}
    </select>

    <select id="selectAccountByAmmeterId" parameterType="String" resultMap="accountMap">
        select * from account where ammeter_id = #{ammeterId}
    </select>

    <select id="selectAccountByIdentityCard" parameterType="String" resultMap="accountMap">
        select * from account where identity_card = #{identityCard}
    </select>

    <select id="selectAccountByPhoneNum" parameterType="String" resultMap="accountMap">
        select * from account where phone_num = #{phoneNum}
    </select>

    <select id="selectAccountByAddress" parameterType="String" resultMap="accountMap">
        select * from account where address = #{address}
    </select>

    <insert id="insertAccount" keyProperty="id"  useGeneratedKeys="true" parameterType="com.IceCoLa.pojo.Account">
        insert into account(ammeter_id,identity_card,password,phone_num,name,hash,type,asset,response_flag,consumed_energy,storage_energy,image,email,qr_code)value (#{account.ammeterId},#{account.identityCard},#{account.password},#{account.phoneNum},#{account.name},#{account.hash},#{account.type},#{account.asset},#{account.responseFlag},#{account.consumedEnergy},#{account.storageEnergy},#{account.image},#{account.email},#{account.QRCode})
    </insert>
    
    <delete id="deleteAccountById" parameterType="int">
        delete from account where id = #{id}
    </delete>

    <update id="updateAccount" parameterType="com.IceCoLa.pojo.Account">
        update account set ammeter_id = #{account.ammeterId},identity_card = #{account.identityCard},password = #{account.password},phone_num = #{account.phoneNum},name = #{account.name},hash = #{account.hash},type = #{account.type},asset = #{account.asset},response_flag = #{account.responseFlag},consumed_energy = #{account.consumedEnergy},storage_energy = #{account.storageEnergy},image = #{account.image},email = #{account.email},qr_code = #{account.QRCode} where id = #{account.id}
    </update>

</mapper>